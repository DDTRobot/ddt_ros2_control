<?xml version="1.0"?>

<robot name="single_robot"
    xmlns:xacro="http://www.ros.org/wiki/xacro">
    <xacro:macro name="single_robot" params="name x_offset">
        <!-- Base link -->
        <link name="${name}_base_link">
            <inertial>
                <origin xyz="0.04005271 0.00019692 -0.02084955" rpy="0 0 0" />
                <mass value="8.44614222" />
                <inertia ixx="0.07256618" ixy="0.00023603" ixz="-0.00688763" iyy="0.11587953" iyz="3.472e-05" izz="0.11697399"/>
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/base_link.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.75294 0.75294 0.75294 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <box size="0.275 0.15 0.175"/>
                </geometry>
            </collision>
            <collision>
                <origin xyz="0 0 -0.12" rpy="0 0 0" />
                <geometry>
                    <box size="0.31 0.12 0.06"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}_base_joint" type="fixed">
            <origin xyz="${x_offset} 0 0" rpy="0 0 0" />
            <parent link="base_link" />
            <child link="${name}_base_link" />
        </joint>

        <!-- Funtion link -->
        <link name="${name}_funtion_link">
            <inertial>
                <origin xyz="0.01321944 0.0 0.00563897" rpy="0 0 0" />
                <mass value="0.67772" />
                <inertia ixx="0.0046602" ixy="-4.1631E-09" ixz="4.51E-05" iyy="0.0017478" iyz="8e-08" izz="0.0031524" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/funtion_Link.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.75294 0.75294 0.75294 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0.008 0 0" rpy="0 0 0" />
                <geometry>
                    <box size="0.0495 0.15 0.175"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}_funtion_joint" type="fixed">
            <xacro:if value="${(name == 'F')}">
                <origin xyz="0.1545 0 0" rpy="0 0 0" />
            </xacro:if>
            <xacro:if value="${(name == 'R')}">
                <origin xyz="-0.1545 0 0" rpy="0 0 3.14159" />
            </xacro:if>
            <parent link="${name}_base_link" />
            <child link="${name}_funtion_link" />
            <axis xyz="0 0 0" />
        </joint>

        <!-- Docking link -->
        <link name="${name}_docking_link">
            <inertial>
                <origin xyz="0.01527894 0.00855247 0.00284739" rpy="0 0 0" />
                <mass value="2.20153411" />
                <inertia ixx="0.01876158" ixy="0.00036494" ixz="6.869e-05" iyy="0.00631988" iyz="0.0001511" izz="0.01358894"/>
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/docking_Link.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.75294 0.75294 0.75294 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0.0065 0 0" rpy="0 0 0" />
                <geometry>
                    <box size="0.0851 0.15 0.175"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}_docking_joint" type="fixed">
            <xacro:if value="${(name == 'F')}">
                <origin xyz="-0.187 0 0" rpy="0 0 0" />
            </xacro:if>
            <xacro:if value="${(name == 'R')}">
                <origin xyz="0.187 0 0" rpy="0 0 3.14159" />
            </xacro:if>
            <parent link="${name}_base_link" />
            <child link="${name}_docking_link" />
            <axis xyz="0 0 0" />
        </joint>

        <!-- Left hip link -->
        <link name="${name}L_hip">
            <inertial>
                <origin xyz="-0.01814352 -7.96e-06 -0.09365134" rpy="0 0 0" />
                <mass value="1.69464273" />
                <inertia ixx="0.00379266" ixy="-1.1e-07" ixz="-2.452e-05" iyy="0.00276068" iyz="3.09e-06" izz="0.00214485" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/L_hip.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.75294 0.75294 0.75294 1" />
                </material>
            </visual>
        </link>
        <joint name="${name}L_hip_joint" type="revolute">
            <origin xyz="0.0945 0.0775 0" rpy="1.5708 0 1.5708" />
            <parent link="${name}_base_link" />
            <child link="${name}L_hip" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="80" lower="-0.7853981633974483" upper="0.7853981633974483" velocity="20"/>
        </joint>

        <!-- Left thigh link -->
        <link name="${name}L_thigh">
            <inertial>
                <origin xyz="0.02895091 0.00356333 -0.02811556" rpy="0 0 0" />
                <mass value="2.55232244" />
                <inertia ixx="0.00426053" ixy="-0.00133627" ixz="-0.00212533" iyy="0.01734276" iyz="-0.00029985" izz="0.01796394" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/L_thigh.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.75294 0.75294 0.75294 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0.06 0.02 0" rpy="0 0 0.2617993877991494" />
                <geometry>
                    <box size="0.26 0.09 0.05"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}L_thigh_joint" type="revolute">
            <origin xyz="0.0905 0 -0.0945" rpy="-1.5708 0 -1.5704" />
            <parent link="${name}L_hip" />
            <child link="${name}L_thigh" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="80" lower="-1.8325957145940461" upper="3.4033920413889422" velocity="20"/>
        </joint>

        <!-- Left knee link -->
        <link name="${name}L_calf">
            <inertial>
                <origin xyz="0.12506267 0.00606587 0.00312587" rpy="0 0 0" />
                <mass value="0.46345045" />
                <inertia ixx="0.00023821" ixy="0.00034272" ixz="-0.00014416" iyy="0.00488539" iyz="3.83e-06" izz="0.00493944" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/L_calf.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.75294 0.75294 0.75294 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0.15 0.01 0" rpy="0 0 -0.08" />
                <geometry>
                    <box size="0.24 0.04 0.05"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}L_calf_joint" type="revolute">
            <origin xyz="0.25 0 0" rpy="-0.0 0.0 0.0" />
            <parent link="${name}L_thigh" />
            <child link="${name}L_calf" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="80" lower="-2.775" upper="-0.855" velocity="20"/>
        </joint>

        <!-- Left wheel link -->
        <link name="${name}L_foot">
            <inertial>
                <origin xyz="-2.82e-06 0.0 -0.00091845" rpy="0 0 0" />
                <mass value="1.6631" />
                <inertia ixx="0.00397025" ixy="2.224e-05" ixz="2.1e-07" iyy="0.00395149" iyz="2e-07" izz="0.00760863" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/L_foot.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.698039215686274 0.698039215686274 0.698039215686274 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0 0 0.0" rpy="0 0 0" />
                <geometry>
                    <cylinder length="0.04" radius="0.087"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}L_foot_joint" type="revolute">
            <origin xyz="0.25 0 0.052166" rpy="0 0 0" />
            <parent link="${name}L_calf" />
            <child link="${name}L_foot" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="12" lower="-1000000.0" upper="1000000.0" velocity="30.0"/>
        </joint>

        <!-- Right hip link -->
        <link name="${name}R_hip">
            <inertial>
                <origin xyz="0.01814352 -8e-06 -0.09365134" rpy="0 0 0" />
                <mass value="1.69464279" />
                <inertia ixx="0.00379266" ixy="1.1e-07" ixz="2.452e-05" iyy="0.00276068" iyz="3.09e-06" izz="0.00214485" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/R_hip.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.75294 0.75294 0.75294 1" />
                </material>
            </visual>
        </link>
        <joint name="${name}R_hip_joint" type="revolute">
            <origin xyz="0.0945 -0.0775 0" rpy="1.5708 0 1.5708" />
            <parent link="${name}_base_link" />
            <child link="${name}R_hip" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="80" lower="-0.7853981633974483" upper="0.7853981633974483" velocity="20"/>
        </joint>

        <!-- Right thigh link -->
        <link name="${name}R_thigh">
            <inertial>
                <origin xyz="0.0291816 0.00370278 0.02811568" rpy="0 0 0" />
                <mass value="2.55232278" />
                <inertia ixx="0.00427405" ixy="-0.00133225" ixz="0.00213801" iyy="0.01729241" iyz="0.00030751" izz="0.01792714" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/R_thigh.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0.06 0.02 0" rpy="0 0 0.2617993877991494" />
                <geometry>
                    <box size="0.26 0.09 0.05"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}R_thigh_joint" type="revolute">
            <origin xyz="-0.0905 0 -0.0945" rpy="-1.5708 0 -1.5712" />
            <parent link="${name}R_hip" />
            <child link="${name}R_thigh" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="80" lower="-1.8325957145940461" upper="3.4033920413889422" velocity="20"/>
        </joint>

        <!-- Right knee link -->
        <link name="${name}R_calf">
            <inertial>
                <origin xyz="0.12506359 0.00606606 -0.0031258" rpy="0 0 0" />
                <mass value="0.46345511" />
                <inertia ixx="0.00023821" ixy="0.00034271" ixz="0.00014415" iyy="0.00488543" iyz="-3.83e-06" izz="0.00493948" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/R_calf.STL" />
                </geometry>
                <material name="">
                    <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0.15 0.01 0" rpy="0 0 -0.08" />
                <geometry>
                    <box size="0.24 0.04 0.05"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}R_calf_joint" type="revolute">
            <origin xyz="0.25 0 0" rpy="0.0 0.0 0.0" />
            <parent link="${name}R_thigh" />
            <child link="${name}R_calf" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="80" lower="-2.775" upper="-0.855" velocity="20"/>
        </joint>

        <!-- Right wheel link -->
        <link name="${name}R_foot">
            <inertial>
                <origin xyz="-2.78e-06 0.0 0.00091859" rpy="0 0 0" />
                <mass value="1.6631" />
                <inertia ixx="0.00397018" ixy="2.222e-05" ixz="-2.1e-07" iyy="0.00395159" iyz="-2e-07" izz="0.00760867" />
            </inertial>
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <mesh filename="package://d1h_description/meshes/R_foot.STL" />
                </geometry>
                <material name="">
                    <color rgba="1 1 1 1" />
                </material>
            </visual>
            <collision>
                <origin xyz="0 0 -0.0" rpy="0 0 0" />
                <geometry>
                    <cylinder length="0.04" radius="0.087"/>
                </geometry>
            </collision>
        </link>
        <joint name="${name}R_foot_joint" type="revolute">
            <origin xyz="0.25 0 -0.052166" rpy="0 0 2.3965" />
            <parent link="${name}R_calf" />
            <child link="${name}R_foot" />
            <axis xyz="0 0 1" />
            <dynamics damping="0" friction="0"/>
            <limit effort="12" lower="-1000000.0" upper="1000000.0" velocity="30.0"/>
        </joint>

    </xacro:macro>
</robot>